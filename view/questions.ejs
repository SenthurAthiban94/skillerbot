
<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<link rel="icon" type="image/png" href="assets/img/favicon.ico" />

	<title>SkillerBot | Profile</title>

	<!-- Canonical SEO -->
    <link rel="canonical" href="https://skillerbot.herokuapp.com"/>

    <meta name="keywords" content="wizard, bootstrap wizard, creative tim, long forms, 3 step wizard, sign up wizard, beautful wizard, long forms wizard, wizad with validation">
    <meta name="description" content="Fully responsive wizard that comes with 3 useful examples and 5 bright colors. The Bootstrap Wizard is one of the most handy elements that can be used inside a project.">

    <!-- Schema.org markup for Google+ -->
    <meta itemprop="name" content="">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="">

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@creativetim">
    <meta name="twitter:title" content="Bootstrap Wizard by Creative Tim">
    <meta name="twitter:description" content="Fully responsive wizard that comes with 3 useful examples and 5 bright colors. The Bootstrap Wizard is one of the most handy elements that can be used inside a project.">
    <meta name="twitter:creator" content="@creativetim">
    <meta name="twitter:image" content="https://s3.amazonaws.com/creativetim_bucket/products/22/opt_wizard_thumbnail.jpg">

    <!-- Open Graph data -->
    <meta property="og:title" content="Bootstrap Wizard by Creative Tim" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://demos.creative-tim.com/wizard-demo-register" />
    <meta property="og:image" content="https://s3.amazonaws.com/creativetim_bucket/products/22/opt_wizard_thumbnail.jpg" />
    <meta property="og:description" content="Fully responsive wizard that comes with 3 useful examples and 5 bright colors. The Bootstrap Wizard is one of the most handy elements that can be used inside a project." />
    <meta property="og:site_name" content="Creative Tim" />
	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />   

    <link href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.min.css" rel="stylesheet" />
    <link href="/css/questions/bootstrap.min.css" rel="stylesheet" />
    <link href="/css/questions/gsdk-base.css" rel="stylesheet" />
    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.css" rel="stylesheet">
    <script src="/libs/js/jquery.min.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.js" type="text/javascript"></script>
    <!-- GOOGLE MAP Address Fetching API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDRSMN76wNeDZnCMwnxYlPMjFV_YmKMIWY&libraries=places"></script>
    
    <style>
    .picture-container:hover{
        cursor: default;
    }
    </style>
    <script>
        let domstructure=[];
        let questions=<%-JSON.stringify(questions)%>;
        let section_maxlimit=Math.ceil(Object.keys(questions).length/3);
        let answers={},sectionlist={},counter=0;
        
        Object.keys(questions).map((e,v)=>{
            counter++;
            if(counter<=section_maxlimit){
                    sectionlist[e]=questions[e];
                    if(counter==section_maxlimit || counter==Object.keys(questions).length){
                        domstructure.push(sectionlist);
                        counter=0;
                        sectionlist={};
                    }
            }
        });


    </script>
</head>
	<body>
		<%- include header.ejs %>
<div class="image-container set-full-height" style="background-image: url('/assets/img/backgrounds/wizard.jpg')">
    <!--   Big container   -->
    <div class="container">
	<div class="row">
        <div class="col-sm-8 col-sm-offset-2">

            <!--      Wizard container        -->
            <div class="wizard-container">
                <div class="card wizard-card ct-wizard-orange" id="wizard">
                    <form action="" method="">
                <!--        You can switch "ct-wizard-orange"  with one of the next bright colors: "ct-wizard-blue", "ct-wizard-green", "ct-wizard-orange", "ct-wizard-red"             -->

                    	<div class="wizard-header">
							<h3>
                        	   <b>BUILD</b> YOUR PROFILE <br>
                        	   <small>This information will let us know more about you.</small>
                        	</h3>
                    	</div>
                    	<ul>
                            <li><a href="#about" data-toggle="tab">Step 1</a></li>
                            <li><a href="#account" data-toggle="tab">Step 2</a></li>
                            <li><a href="#address" data-toggle="tab">Step 3</a></li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane" id="about">
                              <div class="row">
                                  <!-- <h4 class="info-text"> Let's start with the basic information (with validation)</h4> -->
                                  <div class="col-sm-10 col-sm-offset-1">
                                     <div class="picture-container">
                                          <div class="picture">
                                              <img src="<%=userdata.image_path%>" class="picture-src" id="wizardPicturePreview" title=""/>
                                              <!-- <input type="file" id="wizard-picture"> -->
                                          </div>
                                          <h6><%=userdata.user_name%></h6>
                                      </div>
                                  </div>
                                  <div class="content1"></div>
                              </div>
                            </div>
                            <div class="tab-pane" id="account">
                                <!-- <h4 class="info-text"> What are you doing? </h4> -->
                                <div class="row">
                                    <div class="content2"></div>
                                    
                                    <!-- <div class="col-sm-10 col-sm-offset-1"> -->
                                        <!-- <div class="col-sm-4">
                                            <div class="choice" data-toggle="wizard-radio">
                                                <input type="radio" name="job" value="Design">
                                                <div class="icon">
                                                    <i class="fa fa-pencil"></i>
                                                </div>
                                                <h6>Design</h6>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="choice" data-toggle="wizard-radio">
                                                <input type="radio" name="job" value="Code">
                                                <div class="icon">
                                                    <i class="fa fa-terminal"></i>
                                                </div>
                                                <h6>Code</h6>
                                            </div>

                                        </div>
                                        <div class="col-sm-4">
                                            <div class="choice"  data-toggle="wizard-radio">
                                                <input type="radio" name="job" value="Develop">
                                                <div class="icon">
                                                    <i class="fa fa-laptop"></i>
                                                </div>
                                                <h6>Develop</h6>
                                            </div>

                                        </div> -->
                                    <!-- </div> -->
                                </div>
                            </div>
                            <div class="tab-pane" id="address">
                                <div class="row">
                                    <div class="content3"></div>   
                                </div>
                            </div>
                        </div>
                        <div class="wizard-footer">
                            	<div class="pull-right">
                                    <input type='button' class='btn btn-next btn-fill btn-warning btn-wd btn-sm' name='next' value='Next' />
                                    <input type='button' class='btn btn-finish btn-fill btn-warning btn-wd btn-sm' name='finish' value='Finish' />

                                </div>
                                <div class="pull-left">
                                    <input type='button' class='btn btn-previous btn-fill btn-default btn-wd btn-sm' name='previous' value='Previous' />
                                </div>
                                <div class="clearfix"></div>
                        </div>
                    </form>
                </div>

            </div> <!-- wizard container -->
        </div>
        </div><!-- end row -->
    </div> <!--  big container -->
</div>
</body>
<script>
        function ValidateInputfields(inputObject){
        var element=inputObject[0];
        var mandatory_fields=['UserName','TellAboutYourself','BasicQuestion_Objective','BasicQuestion_CurrentLocation','BasicQuestion_DOB','BasicQuestion_10thPercentage','BasicQuestion_12thPercentage','BasicQuestion_CollegeDegree','BasicQuestion_CollegePercentage','BasicQuestion_Project','BasicQuestion_Certification','BasicQuestion_Internship','BasicQuestion_Skillset','BasicQuestion_AreaOfInterest','BasicQuestion_Pros','BasicQuestion_ExtraCurricular','BasicQuestion_PhoneNumber','BasicQuestion_Linkedin','BasicQuestion_Github'];
        var error=false,
            inputname=element.name,
            inputvalue=element.value,
            errormsg="";

            if(inputvalue==""){
                error=true;
                errormsg="Field cannot be empty!";
            }else{
                if(domstructure[currentIndexlocal].type=="multiselect"){
                    inputname=domstructure[currentIndexlocal].id;
                    inputvalue=(inputvalue.includes(',') ? inputvalue.split(',') : [inputvalue]);
                }
                switch(inputname){
                    case "UserName":
                        if(inputvalue.length < 2){
                            error=true;
                            errormsg="Please Enter a Valid Username!!";
                        }
                        break;
                    case "BasicQuestion_PhoneNumber":
                        if(!validateMobile(inputvalue)){
                            error=true;
                            errormsg="Please Enter a Valid Contact Number!!";
                        }
                        break;
                    case "BasicQuestion_Github":
                        if(inputvalue.toLowerCase().indexOf('github.com') == -1){
                            error=true;
                            errormsg="Please Enter a Valid Github profile!!";
                        }
                        break;
                    case "BasicQuestion_Linkedin":
                        if(inputvalue.toLowerCase().indexOf('linkedin.com') == -1){
                            error=true;
                            errormsg="Please Enter a Valid LinkedIn profile!!";
                        }
                        break;
                    case "BasicQuestion_DOB":
                        if(new Date(inputvalue) > new Date()){
                            error=true;
                            errormsg="Please Enter a Valid Date of Birth!!";
                        }
                        break;
                    }
            }
            if(error){
                inputObject.addClass('input-error');
                showNotification("danger",errormsg,"",1);
            }
            else{
                inputObject.removeClass('input-error');
                answers[inputname]=inputvalue;
                return true;
            }
        return false;
    }
        domstructure.map((e,v)=>{
            let container=$('.content'+(v+1));
            let input="";
            Object.keys(e).map((ie,iv)=>{
                switch(e[ie]['type']){
                    case "radio":
                            input+="<div class='col-sm-10 col-sm-offset-1'>";
                            for(key in e[ie]['options']){
                                input +="<div class='form-group'>\
                                                <input name='"+e[ie]['options'][key]['name']+"' type='"+e[ie]['type']+"' "+(Object.keys([ie]['options'][key]).includes(['checked']) && [ie]['options'][key]["checked"] ? 'checked' : '')+" class='form-control'> "+e[ie]['options'][key]['name']+"\
                                        </div>";
                            }
                            input+="</div>";
                        break;
                    case "text":
                            input+="<div class='col-sm-10 col-sm-offset-1'>\
                                        <div class='form-group'>\
                                            <label>"+e[ie]['q']+" <small>(required)</small></label>\
                                            <input name='"+ie+"' onfocus='"+(e[ie]['name']=="geo_address" ? 'getAutoCompleteAddress(this)' : '')+"' type='"+e[ie]['type']+"' class='form-control' placeholder='"+e[ie]['placeholder']+"'>\
                                        </div>\
                                    </div>";
                        break;
                    case "date":
                            input+="<div class='col-sm-10 col-sm-offset-1'>\
                                        <div class='form-group'>\
                                            <label>"+e[ie]['q']+" <small>(required)</small></label>\
                                            <input type='"+e[ie]['type']+"' max='"+getMaxDate()+"' class='form-control'  placeholder='"+e[ie]['placeholder']+"' />\
                                        </div>\
                                    </div>";
                        break;
                    case "number":
                            input+="<div class='col-sm-10 col-sm-offset-1'>\
                                        <div class='form-group'>\
                                            <label>"+e[ie]['q']+" <small>(required)</small></label>\
                                            <input type='"+e[ie]['type']+"' min='0' class='form-control' "+(Object.keys(e[ie]).includes('max') ? "onkeydown='preventMaxTyping("+e[ie].max+",this,event)'" : '')+"  placeholder='"+(Object.keys(e[ie]).includes('placeholder') ? e[ie]['placeholder'] : "")+"' />\
                                        </div>\
                                    </div>";
                        break;
                    case "textarea":
                            input+="<div class='col-sm-10 col-sm-offset-1'>\
                                        <div class='form-group'>\
                                            <label>"+e[ie]['q']+" <small>(required)</small></label>\
                                            <textarea  class='form-control' name='"+ie+"' placeholder='"+(Object.keys(e[ie]).includes('placeholder') ? e[ie]['placeholder'] : "")+"'></textarea>\
                                        </div>\
                                    </div>";
                        break;
                    case "multiselect":
                        var options="";
                            for(key in e[ie]['options']){
                                options+="<option value='"+e[ie]['options'][key]['value']+"'>"+e[ie]['options'][key]['name']+"</option>";
                            }
                            input+='<div class="col-sm-10 col-sm-offset-1">\
                                        <div class="form-group">\
                                            <label>'+e[ie]["q"]+' <small>(required)</small></label>\
                                            <select class="ui fluid search dropdown" multiple="">\
                                                <option value="">'+e[ie]['name']+'</option>\
                                                '+options+'\
                                            </select>\
                                        </div>\
                                    </div>';
                        break;
                    case "select":
                        var options="";
                        for(key in e[ie]['options']){
                            options+="<option value='"+e[ie]['options'][key]['value']+"' >"+e[ie]['options'][key]['name']+"</option>";
                        }
                        input+="<div class='col-sm-10 col-sm-offset-1'>\
                                    <div class='form-group'>\
                                        <label>"+e[ie]["q"]+" <small>(required)</small></label>\
                                        <select class='form-control' name='"+ie+"'>"+options+"</select>\
                                    </div>\
                                </div>";
                        break;
                }
            });
            
            container.html(input);
            $('.ui.dropdown').dropdown();
        });


        function getMaxDate(){
            var today = new Date();
            var dd = today.getDate(),
                mm = (today.getMonth()+1), //January is 0!
                yyyy = today.getFullYear();
            if(dd<10){
                    dd='0'+dd
                } 
                if(mm<10){
                    mm='0'+mm
                } 

            today = yyyy+'-'+mm+'-'+dd;
            return today;
        }
        
        // Input Validations
        function validateMobile(number){
            var phoneno = /^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;
            if(number.match(phoneno)){
                return true;
            }
            else{
                return false;
            }
        }
        function preventMaxTyping(maxlength,element,event){
            setTimeout(() => {
                if (element.value > maxlength && event.keyCode !== 46 && event.keyCode !== 8){event.preventDefault();element.value=parseInt(element.value.toString().slice(0,-1));}
            }, 100);
        }
        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        ///  GOOGLE MAP Address Fetching API
            function getAutoCompleteAddress(input) {
                var autocomplete=new google.maps.places.Autocomplete(input);
                google.maps.event.addDomListener(input, 'keydown', function(event) { 
                    if (event.keyCode === 13) { 
                        event.preventDefault(); 
                    }
                }); 
                google.maps.event.addDomListener(autocomplete, 'place_changed', function(event) { 
                    var place = autocomplete.getPlace();
                    answers[input.name]={
                                            "lat" : place.geometry.location.lat(),
                                            "lng" : place.geometry.location.lng()
                                        };
                }); 
            }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</script>
	<script src="/libs/js/bootstrap.min.js" type="text/javascript"></script>
	<!--   plugins 	 -->
	<script src="/js/questions/jquery.bootstrap.wizard.js" type="text/javascript"></script>
	<!--  More information about jquery.validate here: https://jqueryvalidation.org/	 -->
	<script src="/js/questions/jquery.validate.min.js"></script>
	<script src="/js/questions/wizard.js"></script>
</html>
